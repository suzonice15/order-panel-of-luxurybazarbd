$(".popup-form").magnificPopup({
    type: "inline", preloader: !0, callbacks: {
        beforeOpen: function () {
            $(window).width() < 700 && (this.st.focus = !1)
        }
    }
}), $(function () {
    $(".datePicker").datepicker({changeYear: !0, changeMonth: !0, dateFormat: "d-m-yy"})
}), $("#submitBtn").click(function (e) {
    e.preventDefault(), $.ajaxSetup({headers: {"X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")}}), $.ajax({
        url: "/create-appointment",
        type: "POST",
        dataType: "JSON",
        data: new FormData(document.getElementById("appointmentForm")),
        processData: !1,
        contentType: !1,
        success: function (e) {
            $(".invalid-feedback").html(""), $(".form-control").removeClass("is-invalid"), console.log(e), e.errors && $.each(e.message, function (e, t) {
                $("#" + e).addClass("is-invalid")
            }), e.success && (document.getElementById("appointmentForm").reset(), $(".alert-success").fadeIn(), setTimeout(function () {
                $(".alert-success").fadeOut(), $.magnificPopup.close()
            }, 2500))
        },
        error: function (e, t, n) {
            console.log(e)
        }
    })
}), $("#sendRequest").click(function (e) {
    e.preventDefault(), $.ajaxSetup({headers: {"X-CSRF-TOKEN": $('meta[name="csrf-token"]').attr("content")}}), $.ajax({
        url: "/subscribers",
        type: "POST",
        dataType: "JSON",
        data: new FormData(document.getElementById("subscribersForm")),
        processData: !1,
        contentType: !1,
        success: function (e) {
            e.errors && $.each(e.message, function (e, t) {
                // $('#message').notify(t, "error");
                $("#message").notify(t,"error",
                    { position:"bottom" }
                );
            }), e.success && (document.getElementById("subscribersForm").reset(), $('#message').notify("Thanks for subscribing.", "success"))
        },
        error: function (e, t, n) {
            console.log(e)
        }
    })
});

$('ul.pagination').hide();
$(function() {
    $('.infinite-scroll').jscroll({
        autoTrigger: true,
        loadingHtml: '<div class="text-center"><button class="btn btn-primary btn-sm" type="button" disabled>\n' +
            '  <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>\n' +
            '  Loading...\n' +
            '</button></div>', // MAKE SURE THAT YOU PUT THE CORRECT IMG PATH
        padding: 0,
        nextSelector: '.pagination li.active + li a',
        contentSelector: 'div.infinite-scroll',
        callback: function() {
            $('ul.pagination').remove();
        }
    });
});


/*
var a = 0;
$(window).scroll(function () {
    var oTop = $('#counter').offset().top - window.innerHeight;
    if (a == 0 && $(window).scrollTop() > oTop) {
        $('.counter-value').each(function () {
            var $this = $(this),
                countTo = $this.attr('data-count');
            $({
                countNum: $this.text()
            }).animate({
                    countNum: countTo
                },
                {
                    duration: 2000,
                    easing: 'swing',
                    step: function () {
                        $this.text(Math.floor(this.countNum));
                    },
                    complete: function () {
                        $this.text(this.countNum);
                        //alert('finished');
                    }
                });
        });
        a = 1;
    }
});
*/

$(document).ready(function () {
    // let showChar = 220;
    // let ellipsestext = "...";
    // $('.more').each(function () {
    //     var content = $(this).html();
    //     if (content.length > showChar) {
    //         var c = content.substr(0, showChar);
    //         var h = content.substr(showChar - 1, content.length - showChar);
    //         var html = c + '<span class="moreellipses">' + ellipsestext + '&nbsp;</span><span class="morecontent">&nbsp;</span>';
    //         $(this).html(html);
    //     }
    // });
    $('.countdown-list').each(function () {
        $('[data-countdown]').each(function () {
            var $this = $(this), finalDate = $(this).data('countdown');
            $this.countdown(finalDate, function (event) {
                var $this = $(this).html(event.strftime(''
                    + '<li class="timer-item days"><strong>%D</strong><small>days</small></li>'
                    + '<li class="timer-item hours"><strong>%H</strong><small>hours</small></li>'
                    + '<li class="timer-item mins"><strong>%M</strong><small>mins</small></li>'
                    + '<li class="timer-item seco"><strong>%S</strong><small>seco</small></li>'));
            });
        });

    });
});
/*
$('.owl-carousel').owlCarousel({
    margin: 20,
    loop: true,
    items: 2,
    nav: false,
    dots: true,
    dotsData: true,
    autoplay: true,
    animateOut: 'fadeOut',
    responsiveClass: true,
    // navText: ["<span>â†</span>", "<span>â†’</span>"],
    dotsContainer: '.owl-dots-container',
    responsive: {
        0: {
            stagePadding: 0,
            items: 1
        },
        768: {
            items: 2
        },
        1000: {
            stagePadding: 200
        }
    }

});
*/

